(this.webpackJsonp=this.webpackJsonp||[]).push([["ticket-manager"],{"3K7M":function(e,t,n){"use strict";n.r(t);var a=n("rJbP"),i=n.n(a);const{Component:r}=Shopware,{Criteria:s}=Shopware.Data;r.register("ticket-manager-list",{template:i.a,inject:["repositoryFactory"],data:()=>({repository:null,tickets:null}),metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"name",dataIndex:"name",label:this.$tc("ticket-manager.list.columnName"),routerLink:"ticket-manager.ticket.detail",inlineEdit:"string",allowResize:!0,primary:!0}]}},created(){this.repository=this.repositoryFactory.create("inchoo_ticket"),this.repository.search(new s,Shopware.Context.api).then(e=>{this.tickets=e})}});var o=n("mKwR"),c=n.n(o);Shopware.Component.register("ticket-manager-detail",{template:c.a,inject:["repositoryFactory"],mixins:[Mixin.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data:()=>({ticket:null,isLoading:!1,processSuccess:!1,repository:null}),created(){this.repository=this.repositoryFactory.create("inchoo_ticket"),this.getBundle()},methods:{getBundle(){this.repository.get(this.$route.params.id,Shopware.Context.api).then(e=>{this.bundle=e})},onClickSave(){this.isLoading=!0,this.repository.save(this.ticket,Shopware.Context.api).then(()=>{this.getBundle(),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("swag-bundle.detail.errorTitle"),message:e})})},saveFinish(){this.processSuccess=!1}}});var l=n("j/9G"),p=n("ZKkm");Shopware.Module.register("ticket-manager",{type:"plugin",name:"Tickets",title:"ticket-manager.general.mainMenuItemGeneral",description:"sw-property.general.descriptionTextModule",color:"#00d5ff",icon:"default-device-headset",snippets:{"de-DE":l,"en-GB":p},routes:{list:{component:"ticket-manager-list",path:"list"},detail:{component:"ticket-manager-detail",path:"detail/:id",meta:{parentPath:"ticket.manager.list"}}},navigation:[{label:"ticket-manager.general.mainMenuItemGeneral",color:"#00d5ff",path:"ticket-manager.ticket.list",icon:"default-device-headset",position:30}]})},ZKkm:function(e){e.exports=JSON.parse('{"ticket-manager":{"general":{"mainMenuItemGeneral":"Tickets","descriptionTextModule":"Manage tickets"},"list":{"columnName":"Subject"},"detail":{"nameLabel":"Subject","contentLabel":"Content","cancelButtonText":"Cancel","saveButtonText":"Save","errorTitle":"Error"}}}')},"j/9G":function(e){e.exports=JSON.parse('{"ticket-manager":{"general":{"mainMenuItemGeneral":"Kundenticket Manager","descriptionTextModule":"Verwalten Sie Kundentickets"},"list":{"columnName":"Subject"},"detail":{"nameLabel":"Subject","contentLabel":"Content","cancelButtonText":"Cancel","saveButtonText":"Save","errorTitle":"Error"}}}')},mKwR:function(e,t){e.exports='<sw-page class="ticket-manager-detail">\n    <template slot="smart-bar-actions">\n        <sw-button :routerLink="{ name: \'ticket.manager.list\' }">\n            {{ $t(\'ticket-manager.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n            {{ $t(\'ticket-manager.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content">\n        <sw-card-view>\n            <sw-card v-if="ticket" :isLoading="isLoading">\n                <sw-field :label="$t(\'ticket-manager.detail.nameLabel\')" v-model="ticket.name"></sw-field>\n\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>'},rJbP:function(e,t){e.exports='{% block ticket_manager_list %}\n    <sw-page class="ticket-manager-list">\n        <template slot="content">\n            <h2>Hello world!</h2>\n        </template>\n    </sw-page>\n{% endblock %}'}},[["3K7M","runtime"]]]);